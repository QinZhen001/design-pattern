<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>用闭包实现命令模式</title>
</head>
<body>
<button id="button1">button1</button>
</body>
<script>
    var setCommand = function (button, command) {
        button.onclick = function () {
            command.execute()
        }
    }

    var MenuBar = {
        refresh: function () {
            console.log('刷新菜单界面')
        }
    }

    var RefreshMenuBarCommand = function (receiver) {
        return {
            execute: function () {
                receiver.refresh()
            }
            //将来还有可能提供撤销命令等操作，不止execute
        }
    }

    var button1 = document.getElementById('button1')
    var refreshMenuBarCommand = RefreshMenuBarCommand(MenuBar)
    setCommand(button1, refreshMenuBarCommand)

</script>
</html>























